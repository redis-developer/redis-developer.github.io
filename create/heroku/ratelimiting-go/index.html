<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-create/heroku/ratelimiting-go/index-ratelimitinggo">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-W8Z6BLQ",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script><title data-rh="true">Deploy a Redis Rate Limiting app on Heroku | Redis Developer Hub</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://developer.redis.com/create/heroku/ratelimiting-go"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Deploy a Redis Rate Limiting app on Heroku | Redis Developer Hub"><meta data-rh="true" name="description" content="Rate limiting is a mechanism that many developers may have to deal with at some point in their life. Itâ€™s useful for a variety of purposes like sharing access to limited resources or limiting the number of requests made to an API endpoint and responding with a 429 status code. Building a rate limiter with Redis is easy because of two commands INCR and EXPIRE. The basic concept is that you want to limit requests to a particular service in a given time period. Letâ€™s say we have a service that has users identified by an API key. This service states that it is limited to 20 requests in any given minute."><meta data-rh="true" property="og:description" content="Rate limiting is a mechanism that many developers may have to deal with at some point in their life. Itâ€™s useful for a variety of purposes like sharing access to limited resources or limiting the number of requests made to an API endpoint and responding with a 429 status code. Building a rate limiter with Redis is easy because of two commands INCR and EXPIRE. The basic concept is that you want to limit requests to a particular service in a given time period. Letâ€™s say we have a service that has users identified by an API key. This service states that it is limited to 20 requests in any given minute."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://developer.redis.com/create/heroku/ratelimiting-go"><link data-rh="true" rel="alternate" href="https://developer.redis.com/create/heroku/ratelimiting-go" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.redis.com/create/heroku/ratelimiting-go" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.5802d510.css">
<link rel="preload" href="/assets/js/runtime~main.01254f84.js" as="script">
<link rel="preload" href="/assets/js/main.50ff4dec.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W8Z6BLQ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><div class="announcementBar" role="banner"><div class="announcementBarContent announcementBarCloseable"><p class="text"> RedisDays Available Now On-Demand. </p> <a href="https://redis.com/redisdays/" target="_blank" rel="noopener" class="btn">Learn More</a></div><button type="button" class="announcementBarClose" aria-label="Close">âœ–</button></div><nav class="navbar navbar--fixed-top navbarHideable_VLjY"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle white_lT2H navbarToggle_jppv" role="button" tabindex="0">â˜°</div><a class="navbar__brand" href="/"><div class="navbar__logo navbarLogo_AFZn"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><div id="redis-sitesearch" class="redis-sitesearch redis-sitesearch-inline"><input class="redis-sitesearch-input"><div class="redis-sitesearch-result-list-wrapper"><ul class="redis-sitesearch-result-list"></ul><div class="redisearch-logo"></div></div></div><a class="navbar__item navbar__link" href="/create/rediscloud">Get started</a><a href="https://launchpad.redis.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Redis Launchpad<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://redis.com/try-free/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Try Free<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO displayOnlyInLargeViewport_hams white_lT2H"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><div class="navbar__logo navbarLogo_AFZn"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/create/rediscloud">Get started</a></li><li class="menu__list-item"><a href="https://launchpad.redis.com" target="_blank" rel="noopener noreferrer" class="menu__link">Redis Launchpad<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="menu__list-item"><a href="https://redis.com/try-free/" target="_blank" rel="noopener noreferrer" class="menu__link">Try Free<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_ToTc themedImage--dark_i4oU"></a><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/create">Create</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/create">Overview - All Quick Starts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/create/redis-stack">Redis Stack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/create/redis-functions">Redis Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/create/rediscloud">Redis Enterprise Cloud</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/create/heroku">Redis on Heroku</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/create/heroku">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/create/heroku/portal">Redis on Heroku</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/create/heroku/herokujava">How to deploy a Java based application on Heroku using Redis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/create/heroku/herokunodejs">How to deploy a NodeJS based application on Heroku using Redis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/create/heroku/herokupython">How to deploy a Python based application on Heroku using Redis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/create/heroku/ratelimiting-go">How to deploy a Redis Rate Limiting application on Heroku</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/create/heroku/herokuruby">How to deploy a Ruby based application on Heroku using Redis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/create/heroku/herokugo">How to deploy a Go based application on Heroku using Redis</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/create/azure">Redis on Azure Cache</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/create/gcp">Redis on Google Cloud</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/create/aws">Redis on AWS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/create/docker/">Redis on Docker</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/create/kubernetes/">Redis on Kubernetes</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/create/homebrew/">Redis on Mac OS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/create/windows">Redis on Windows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/create/from-source/">Redis from Source</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/create/jenkins">Redis using Jenkins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/create/openshift">Redis on Red Hat OpenShift Container Platform</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/create/netlify/getting-started-with-netlify">Redis using Netlify</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/create/vercel">Redis using Vercel</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/create/cloudrun">Redis using Cloud Run</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/create/azurefunctions">Redis using Azure Functions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/create/portainer">Redis using Portainer</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/develop">Develop</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/explore">Explore</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/operate">Operate</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/howtos">HowTos &amp; Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/community/">Get Involved</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="docAuthors"><hr><div class="authorByline_dte6"><img class="authorProfileImage_YT8L" src="/img/profile_pic_ajeet_raina.jpg" alt="Profile picture for Ajeet Raina"><div><div class="authorLabel_lTDc">Author:</div><div><a target="_blank">Ajeet Raina</a>, <!-- -->was Developer Growth Manager at Redis</div></div></div><hr></div><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Create</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Redis on Heroku</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">How to deploy a Redis Rate Limiting application on Heroku</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Deploy a Redis Rate Limiting app on Heroku</h1></header><p>Rate limiting is a mechanism that many developers may have to deal with at some point in their life. Itâ€™s useful for a variety of purposes like sharing access to limited resources or limiting the number of requests made to an API endpoint and responding with a 429 status code. Building a rate limiter with Redis is easy because of two commands <a href="https://redis.io/commands/incr" target="_blank" rel="noopener noreferrer">INCR</a> and <a href="https://redis.io/commands/expire" target="_blank" rel="noopener noreferrer">EXPIRE</a>. The basic concept is that you want to limit requests to a particular service in a given time period. Letâ€™s say we have a service that has users identified by an API key. This service states that it is limited to 20 requests in any given minute.</p><p>In this tutorial, we will see how to deploy Rate Limiting using Redis and Go.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-1-create-redis-enterprise-cloud">Step 1. Create Redis Enterprise Cloud<a class="hash-link" href="#step-1-create-redis-enterprise-cloud" title="Direct link to heading">â€‹</a></h4><p>Create your free Redis Enterprise Cloud account by visiting <a href="https://redis.com/try-free" target="_blank" rel="noopener noreferrer">this link</a></p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>TIP</h5></div><div class="admonition-content"><p>For a limited time, use <strong>TIGER200</strong> to get <strong>$200</strong> credits on Redis Enterprise Cloud and try all the advanced capabilities!</p><p>ðŸŽ‰ <a href="https://redis.com/try-free" target="_blank" rel="noopener noreferrer">Click here to sign up</a></p></div></div><p><img loading="lazy" alt="recloud" src="/assets/images/try-free-52c2cec515e5862b2f5021faf0fbbe53.png" width="2486" height="1804" class="img_ev3q"></p><p><a href="/create/rediscloud">Follow this link to create a Redis Enterprise Cloud</a> subscription and database. Once you create the database, you will be provisioned with a unique database endpoint URL, port and password. Save these for future reference.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-2-create-a-heroku-account">Step 2. Create a Heroku account<a class="hash-link" href="#step-2-create-a-heroku-account" title="Direct link to heading">â€‹</a></h3><p>If you are using Heroku for the first time, create your new Heroku account <a href="https://signup.heroku.com/login" target="_blank" rel="noopener noreferrer">through this link</a>.</p><p><img loading="lazy" alt="alt_text" src="/assets/images/image2-f3a6222e54a918c05530ff96edcacebd.png" width="1212" height="1546" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-3-install-heroku-cli-on-your-system">Step 3. Install Heroku CLI on your system<a class="hash-link" href="#step-3-install-heroku-cli-on-your-system" title="Direct link to heading">â€‹</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> brew </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> heroku</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-4-login-to-heroku">Step 4. Login to Heroku<a class="hash-link" href="#step-4-login-to-heroku" title="Direct link to heading">â€‹</a></h3><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> heroku login</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-5-connect-your-application-to-redis-enterprise-cloud">Step 5. Connect your application to Redis Enterprise Cloud<a class="hash-link" href="#step-5-connect-your-application-to-redis-enterprise-cloud" title="Direct link to heading">â€‹</a></h3><p>For this demonstration, we will be using a Simple Rate Limiting application using Go.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clone-the-repository">Clone the repository<a class="hash-link" href="#clone-the-repository" title="Direct link to heading">â€‹</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone https://github.com/basic-redis-rate-limiting-demo-go-lang</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> heroku create</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Creating app</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">. done, â¬¢ powerful-fortress-83061</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> https://powerful-fortress-83061.herokuapp.com/ </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> https://git.heroku.com/powerful-fortress-83061.git</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="alt_text" src="/assets/images/image3-919d7475ee20ee46df4b3143ad960dd4.png" width="1266" height="952" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-6-setting-up-environment-variables">Step 6. Setting up Environment Variables<a class="hash-link" href="#step-6-setting-up-environment-variables" title="Direct link to heading">â€‹</a></h3><p>Go to the Heroku dashboard, click &quot;Settings&quot; and set REDIS_HOST, REDIS_PORT and REDIS_PASSWORD under the Config Vars. Refer to Step 1 for the correct values to use.</p><p><img loading="lazy" alt="alt_text" src="/assets/images/image4-e69bf12df47612c5ccbcc0511297d1f1.png" width="1198" height="786" class="img_ev3q"></p><p>You now have a functioning Git repository that contains a simple application as well as a package.json file, which is used by Nodeâ€™s dependency manager.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-7-deploy-your-code">Step 7. Deploy your code<a class="hash-link" href="#step-7-deploy-your-code" title="Direct link to heading">â€‹</a></h3><p>Heroku generates a random name (in this case <a href="https://powerful-fortress-83061.herokuapp.com/" target="_blank" rel="noopener noreferrer">powerful-fortress-83061</a>) for your app, or you can pass a parameter to specify your own app name. Now deploy your code:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> push heroku</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Enumerating objects: </span><span class="token number" style="color:rgb(247, 140, 108)">171</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Counting objects: </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">171</span><span class="token plain">/171</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Delta compression using up to </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token plain"> threads</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Compressing objects: </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">86</span><span class="token plain">/86</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Writing objects: </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token plain">% </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">171</span><span class="token plain">/171</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">, </span><span class="token number" style="color:rgb(247, 140, 108)">5.65</span><span class="token plain"> MiB </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2.18</span><span class="token plain"> MiB/s, done.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Total </span><span class="token number" style="color:rgb(247, 140, 108)">171</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(247, 140, 108)">74</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">, reused </span><span class="token number" style="color:rgb(247, 140, 108)">171</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">delta </span><span class="token number" style="color:rgb(247, 140, 108)">74</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">, pack-reused </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote: Compressing </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">source</span><span class="token plain"> files</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">. done.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote: Building source:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote: **       **</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote: **       Installed the following binaries:**</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote: **             ./bin/basic-redis-rate-limiting-demo-go-lang**</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote: **       **</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote: **       Created a Procfile with the following entries:**</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote: **             web: bin/basic-redis-rate-limiting-demo-go-lang**</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote: **       **</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote: **       If these entries </span><span class="token function" style="color:rgb(130, 170, 255)">look</span><span class="token plain"> incomplete or incorrect please create a Procfile with the required entries.**</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote: **       See https://devcenter.heroku.com/articles/procfile </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">more</span><span class="token plain"> details about Procfiles**</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote: **       **</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote: -----</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> Discovering process types</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote:        Procfile declares types -</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> web</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote: -----</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> Compressing</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote:        Done: </span><span class="token number" style="color:rgb(247, 140, 108)">9</span><span class="token plain">.6M</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote: -----</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> Launching</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote:        Released v7</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote:        https://powerful-fortress-83061.herokuapp.com/ deployed to Heroku</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> remote: Verifying deploy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">. done.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">To https://git.heroku.com/powerful-fortress-83061.git</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> * </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">new branch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain">      master -</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> master</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">If your app doesn point to the right repository, you can manually </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> it:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">```bash</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> heroku git:remote -a powerful-fortress-83061</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-8-accessing-the-app">Step 8. Accessing the app<a class="hash-link" href="#step-8-accessing-the-app" title="Direct link to heading">â€‹</a></h3><p>Open <a href="https://powerful-fortress-83061.herokuapp.com/" target="_blank" rel="noopener noreferrer">https://powerful-fortress-83061.herokuapp.com/</a> to see your application.</p><p><img loading="lazy" alt="alt_text" src="/assets/images/image5-f6fb2ce7888f516ffb8bc4ba21bb498f.png" width="1266" height="528" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-it-works">How it works<a class="hash-link" href="#how-it-works" title="Direct link to heading">â€‹</a></h2><p>This app will block connections from a client after surpassing certain amount of requests (default: 10) per time period (default: 10 sec). The application returns the following headers in response to each request. The values of these headers tell the user how many requests they have remaining before they reach the limit. On the 10th run the server should return an HTTP status code of <strong>429 Too Many Requests</strong></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cookies">Cookies<a class="hash-link" href="#cookies" title="Direct link to heading">â€‹</a></h3><p>The application uses cookies to identify users. On the first request, the user will receive a cookie back from the server if one didn&#x27;t previously exist.
<code>CookieName: user-limiter</code>
<code>CookieValue: md5(&lt;current time&gt;)</code>
<code>&lt;current time&gt;</code> - request time in a format: <code>2006-01-02 15:04:05.999999999 -0700 MST</code></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="redis-commands">Redis Commands<a class="hash-link" href="#redis-commands" title="Direct link to heading">â€‹</a></h3><ul><li>Read requests for user by <code>user-limiter</code> cookie: <code>GET requests.&lt;USER_IDENTIFIER&gt;</code> - get <code>USER_IDENTIFIER</code> from request cookie<ul><li>E.g <code>GET requests.0cbc6611f5540bd0809a388dc95a615b</code></li></ul></li><li>Set request counter with expired 10 sec if not exist in <code>requests.&lt;USER_IDENTIFIER&gt;</code>: <code>SETEX requests.&lt;USER_IDENTIFIER&gt; 10 0</code><ul><li>E.g <code>SETEX requests.0cbc6611f5540bd0809a388dc95a615b 10 0</code></li></ul></li><li>Increment requests counter for each of user request: <code>INC requests.&lt;USER_IDENTIFIER&gt;</code><ul><li>E.g <code>INC requests.0cbc6611f5540bd0809a388dc95a615b</code></li></ul></li><li>Get requests number for user: <code>GET requests.&lt;USER_IDENTIFIER&gt;</code><ul><li>E.g <code>GET requests.0cbc6611f5540bd0809a388dc95a615b</code></li></ul></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="code-for-rate-limiting">Code for Rate Limiting<a class="hash-link" href="#code-for-rate-limiting" title="Direct link to heading">â€‹</a></h3><div class="language-Go codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-Go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">func (c Controller) AcceptedRequest(user string, limit int) (int, bool) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    key := c.key(user)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if _, err := c.r.Get(key); err == redis.Nil {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        err := c.r.Set(key, &quot;0&quot;, time.Second * time.Duration(limit))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        if err != nil {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            log.Println(err)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            return 0, false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if err := c.r.Inc(key); err != nil {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        log.Println(err)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return 0, false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    requests, err := c.r.Get(key)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if err != nil {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        log.Println(err)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return 0,false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    requestsNum, err := strconv.Atoi(requests)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if err != nil {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        log.Println(err)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return 0, false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    if requestsNum &gt; limit {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        return requestsNum, false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    return requestsNum, true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Where <code>c</code> corresponds to the active controller and <code>c.r</code> is a Redis client.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="response">Response<a class="hash-link" href="#response" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="status-codes">Status codes<a class="hash-link" href="#status-codes" title="Direct link to heading">â€‹</a></h4><ul><li><code>200 - OK</code> - responded <code>PONG</code></li><li><code>406 - Not Acceptable</code> - could not read cookie from request, returned when cookies are not allowed on the client side</li><li><code>429 - Too Many Requests</code> - user send more than 10 requests / 10sec</li></ul><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="headers">Headers<a class="hash-link" href="#headers" title="Direct link to heading">â€‹</a></h4><ul><li><code>X-RateLimit-Limit: 10</code> - allowed number of limits per 10sec</li><li><code>X-RateLimit-Remaining: 9</code> - number of left request in 10sec window</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="available-commands">Available commands<a class="hash-link" href="#available-commands" title="Direct link to heading">â€‹</a></h3><ul><li><a href="https://redis.io/commands/setex" target="_blank" rel="noopener noreferrer">SETEX</a></li><li><a href="https://redis.io/commands/get" target="_blank" rel="noopener noreferrer">GET</a></li><li><a href="https://redis.io/commands/del" target="_blank" rel="noopener noreferrer">DEL</a></li><li><a href="https://redis.io/commands/incr" target="_blank" rel="noopener noreferrer">INCR</a></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="references">References<a class="hash-link" href="#references" title="Direct link to heading">â€‹</a></h3><ul><li><a href="/create/heroku/herokujava">Deploy a Java app on Heroku using Redis</a></li><li><a href="/create/heroku/herokunodejs">Deploy a NodeJS app on Heroku using Redis</a></li><li><a href="/create/heroku/herokupython">Deploy a Python app on Heroku using Redis</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/redis-developer/redis-developer/edit/master/docs/create/heroku/ratelimiting-go/index-ratelimitinggo.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-06-17T17:05:42.000Z">6/17/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/create/heroku/herokupython"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">How to deploy a Python based application on Heroku using Redis</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/create/heroku/herokuruby"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">How to deploy a Ruby based application on Heroku using Redis</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#step-2-create-a-heroku-account" class="table-of-contents__link toc-highlight">Step 2. Create a Heroku account</a></li><li><a href="#step-3-install-heroku-cli-on-your-system" class="table-of-contents__link toc-highlight">Step 3. Install Heroku CLI on your system</a></li><li><a href="#step-4-login-to-heroku" class="table-of-contents__link toc-highlight">Step 4. Login to Heroku</a></li><li><a href="#step-5-connect-your-application-to-redis-enterprise-cloud" class="table-of-contents__link toc-highlight">Step 5. Connect your application to Redis Enterprise Cloud</a></li><li><a href="#step-6-setting-up-environment-variables" class="table-of-contents__link toc-highlight">Step 6. Setting up Environment Variables</a></li><li><a href="#step-7-deploy-your-code" class="table-of-contents__link toc-highlight">Step 7. Deploy your code</a></li><li><a href="#step-8-accessing-the-app" class="table-of-contents__link toc-highlight">Step 8. Accessing the app</a></li><li><a href="#how-it-works" class="table-of-contents__link toc-highlight">How it works</a><ul><li><a href="#cookies" class="table-of-contents__link toc-highlight">Cookies</a></li><li><a href="#redis-commands" class="table-of-contents__link toc-highlight">Redis Commands</a></li><li><a href="#code-for-rate-limiting" class="table-of-contents__link toc-highlight">Code for Rate Limiting</a></li><li><a href="#response" class="table-of-contents__link toc-highlight">Response</a></li><li><a href="#available-commands" class="table-of-contents__link toc-highlight">Available commands</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><svg width="785" height="158" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="shape"><defs><path d="M786.344 392.459c-41.822 22.164-258.313 110.84-305.056 135.477-46.742 24.637-72.163 23.812-108.246 6.57-36.082-17.24-267.334-111.664-309.156-131.377-41.822-19.713-42.642-33.657-1.64-49.271C103.25 338.265 332.86 247.94 381.243 229.875c48.383-18.065 65.604-18.065 106.605-2.473 41.003 15.614 256.674 100.996 297.676 115.785 41.002 14.791 42.642 27.912.82 49.273v-.001z" id="a"></path><mask id="b" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="785" height="331" fill="#fff"><use xlink:href="#a"></use></mask></defs><use mask="url(#b)" xlink:href="#a" transform="translate(-32 -216)" stroke="#465282" stroke-width="4" fill="none" fill-rule="evenodd" stroke-dasharray="3.637"></use></svg><img src="/img/code-2.png" class="code" alt=""><div class="row"><div class="col col--3"><div class="footer__logo-ctr"><span class="footer__logo-tagline">Made with &lt;/&gt; by</span><a href="https://redis.com/" target="_blank" rel="noopener" class="footerLogoLink_fGS1"><img loading="lazy" class="footer__logo" alt="Redis logo" src="/img/redis_logo_red_white_rgb.svg"></a></div></div><div class="col col--9"><div class="row footer__links"><div class="col col--4 footer__col"><h4 class="footer__title">Get Started</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/create/rediscloud">Create Database</a></li><li class="footer__item"><a class="footer__link-item" href="/develop/">Develop</a></li><li class="footer__item"><a class="footer__link-item" href="/explore/redisinsight/">Explore your data</a></li><li class="footer__item"><a href="https://redis.com/redis-best-practices/introduction/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Best Practices</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/create/redis-stack/">Redis Stack</a></li></ul></div><div class="col col--4 footer__col"><h4 class="footer__title">Resources</h4><ul class="footer__items"><li class="footer__item"><a href="https://redis.com/community/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community</a></li><li class="footer__item"><a href="https://university.redis.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Redis University</a></li><li class="footer__item"><a href="https://redis.io/commands" target="_blank" rel="noopener noreferrer" class="footer__link-item">Command Reference</a></li><li class="footer__item"><a class="footer__link-item" href="/howtos">How-tos &amp; tutorials</a></li></ul></div></div></div></div><div class="footer__copyright">Copyright: Â© 2022 Redis. All rights reserved. Redis and the cube logo are registered trademarks of Redis Ltd.</div></div></footer></div>
<script src="/assets/js/runtime~main.01254f84.js"></script>
<script src="/assets/js/main.50ff4dec.js"></script>
</body>
</html>