<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-operate/provisioning/terraform/index-terraform">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">How to Deploy and Manage Redis Databases on AWS Using Terraform | The Home of Redis Developers</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://developer.redis.com/operate/provisioning/terraform"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="How to Deploy and Manage Redis Databases on AWS Using Terraform | The Home of Redis Developers"><meta data-rh="true" name="description" content="terraform"><meta data-rh="true" property="og:description" content="terraform"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://developer.redis.com/operate/provisioning/terraform"><link data-rh="true" rel="alternate" href="https://developer.redis.com/operate/provisioning/terraform" hreflang="en"><link data-rh="true" rel="alternate" href="https://developer.redis.com/operate/provisioning/terraform" hreflang="x-default"><script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-W8Z6BLQ",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script><link rel="stylesheet" href="/assets/css/styles.5cde2a06.css">
<link rel="preload" href="/assets/js/runtime~main.0b0d2ad1.js" as="script">
<link rel="preload" href="/assets/js/main.b2a0f360.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W8Z6BLQ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"><div id="redis-sitesearch" class="redis-sitesearch redis-sitesearch-inline"><input class="redis-sitesearch-input"><div class="redis-sitesearch-result-list-wrapper"><ul class="redis-sitesearch-result-list"></ul><div class="redisearch-logo"></div></div></div></div><a class="navbar__item navbar__link" href="/create/rediscloud">Get started</a><a href="https://launchpad.redis.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Redis Launchpad<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://redis.com/try-free/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Try Free<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_ToTc themedImage--dark_i4oU"></a><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/create">Create</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/develop">Develop</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/explore">Explore</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/operate">Operate</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/operate">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/operate/continuous-integration-continuous-deployment">Continuous Integration/Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/operate/observability">Observability</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/operate/provisioning">Provisioning</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/operate/provisioning">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/operate/provisioning/terraform">Deploy and Manage Redis Database on AWS using Terraform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/operate/provisioning/azure-cache-terraform">Azure Cache for Redis Enterprise using Terraform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/operate/provisioning/azure-cache-terraform-private">Azure Cache for Redis Enterprise using Terraform with Private Link</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/operate/redis-at-scale">Running Redis at Scale</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/operate/orchestration">Orchestration</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/howtos">HowTos &amp; Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/community/">Get Involved</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ebooks/8-nosql-data-modeling-patterns">E-books</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Operate</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Provisioning</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Deploy and Manage Redis Database on AWS using Terraform</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>How to Deploy and Manage Redis Databases on AWS Using Terraform</h1></header><div class="docAuthors"><hr><div class="authorByline_VoxI"><img class="authorProfileImage_URwT" src="/img/profile_pic_ajeet_raina.jpg" alt="Profile picture for Ajeet Raina"><div><div class="authorLabel_a70t">Author:</div><div><a href="https://twitter.com/ajeetsraina" target="_blank">Ajeet Raina</a>, <!-- -->Former Developer Growth Manager at Redis</div></div></div><div class="authorByline_VoxI"><img class="authorProfileImage_URwT" src="/img/profile_pic_rahul_chauhan.jpg" alt="Profile picture for Rahul Chauhan"><div><div class="authorLabel_a70t">Author:</div><div><a href="https://www.linkedin.com/in/rchauhan2/" target="_blank">Rahul Chauhan</a>, <!-- -->Corporate Solution Architect at Redis</div></div></div><hr></div><p><img loading="lazy" alt="terraform" src="/assets/images/terraform_arch-b47d156b140fe463b960341f245bd92e.png" width="1428" height="836" class="img_ev3q"></p><p>Development teams today are embracing more and more DevOps principles, such as continuous integration and continuous delivery (CI/CD). Therefore, the need to manage infrastructure-as-code (IaC) has become an essential capability for any cloud service. IaC tools allow you to manage infrastructure with configuration files rather than through a graphical user interface. IaC allows you to build, change, and manage your infrastructure in a safe, consistent, and repeatable way by defining resource configurations that you can version, reuse, and share.</p><p>A leading tool in the IaC space is HashiCorp Terraform, which supports the major cloud providers and services with its providers and modules cloud infrastructure automation ecosystem for provisioning, compliance, and management of any cloud, infrastructure, and service</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="what-is-terraform">What is Terraform?<a class="hash-link" href="#what-is-terraform" title="Direct link to heading">​</a></h3><p>Terraform is an open source IaC software tool that provides a consistent CLI workflow to manage hundreds of cloud services. Terraform codifies cloud APIs into declarative configuration files, which can then be shared amongst team members, treated as code, edited, reviewed, and versioned. It enables you to safely and predictably create, change, and improve infrastructure.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="capabilities-of-terraform">Capabilities of Terraform<a class="hash-link" href="#capabilities-of-terraform" title="Direct link to heading">​</a></h3><ul><li>Terraform is not just a configuration management tool. It also focuses on the higher-level abstraction of the data center and associated services, while allowing you to use configuration management tools on individual systems.</li><li>It supports multiple cloud providers, such as AWS, GCP, Azure, DigitalOcean, etc.</li><li>It provides a single unified syntax, instead of requiring operators to use independent and non-interoperable tools for each platform and service.</li><li>Manages both existing service providers and custom in-house solutions.</li><li>Terraform is easily portable to any other provider.</li><li>Provides immutable infrastructure where configuration changes smoothly.</li><li>Supports client-only architecture, so no need for additional configuration management on a server.</li><li>Terraform is very flexible, using a plugin-based model to support providers and provisioners, giving it the ability to support almost any service that exposes APIs.</li><li>It is not intended to give low-level programmatic access to providers, but instead provides a high-level syntax for describing how cloud resources and services should be created, provisioned, and combined.</li><li>It provides a simple, unified syntax, allowing almost any resource to be managed without learning new tooling.</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-hashicorp-terraform-redis-enterprise-cloud-provider">The HashiCorp Terraform Redis Enterprise Cloud provider<a class="hash-link" href="#the-hashicorp-terraform-redis-enterprise-cloud-provider" title="Direct link to heading">​</a></h3><p>Redis has developed a Terraform provider for Redis Enterprise Cloud. The HashiCorp Terraform Redis Enterprise Cloud provider allows customers to deploy and manage Redis Enterprise Cloud subscriptions, databases, and network peering easily as code, on any cloud provider. It is a plugin for Terraform that allows Redis Enterprise Cloud Flexible customers to manage the full life cycle of their subscriptions and related Redis databases.</p><p>The Redis Enterprise Cloud provider is used to interact with the resources supported by Redis Enterprise Cloud. The provider needs to be configured with the proper credentials before it can be used. Use the navigation to the left to read about the available provider resources and data sources.</p><p><img loading="lazy" alt="rediscloud" src="/assets/images/terraform_rediscloud-a3fde74f3ee29cfe711dcaaa7cb9b783.png" width="1282" height="1226" class="img_ev3q"></p><p>Before we jump into the implementation, let us take a moment to better understand the Terraform configuration. A Terraform configuration is a complete document in the Terraform language that tells Terraform how to manage a given collection of infrastructure. A configuration can consist of multiple files and directories. Terraform is broken down into three main components:</p><ul><li>Providers</li><li>Data sources</li><li>Resources</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="providers">Providers<a class="hash-link" href="#providers" title="Direct link to heading">​</a></h3><p>A provider is the first resource that will need to be defined in any project under the Terraform configuration file. The provider gives you access to the API you will be interacting with to create resources. Once the provider has been configured and authenticated, a vast amount of resources are now available to be created. Terraform has more than 100+ cloud providers it serves.</p><p>A provider defines resources and data for a particular infrastructure, such as AWS. As shown below, the terraform block {} contains terraform settings, including the required providers Terraform will use to provision your infrastructure (for example, rediscloud provider).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> terraform {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> required_providers {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  rediscloud = {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    source = &quot;RedisLabs/rediscloud&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    version = &quot;0.2.2&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The provider {} block configures the specific provider. In the following example, it is AWS.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> cloud_provider {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   provider = &quot;AWS&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   cloud_account_id = 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   region {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     region = &quot;us-east-1&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     networking_deployment_cidr = &quot;10.0.0.0/24&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     preferred_availability_zones = [&quot;us-east-1a&quot;]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="resources">Resources<a class="hash-link" href="#resources" title="Direct link to heading">​</a></h3><p>Resources are the most important element in the Terraform language. This is where you describe the piece of infrastructure to be created, and this can range from a compute instance to defining specific permissions and much more.</p><p>As shown below, the resource {} block is used to define components of your infrastructure. A resource might be a physical or virtual component, such as EC2, or it could be a logical component, such as a Heroku application.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> resource &quot;random_password&quot; &quot;passwords&quot; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> count = 2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> length = 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> upper = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> lower = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> number = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The resource {} block has two strings before the block: resource types and resource names. The prefix of the type maps to the name of the provider. For example, the resource type “random_password” and the resource name “passwords” form a unique identifier of the resource. Terraform uses this ID to identify the resource.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="data-sources">Data sources<a class="hash-link" href="#data-sources" title="Direct link to heading">​</a></h3><p>Data sources allow Terraform to use information defined outside of Terraform, defined by another separate Terraform configuration, or modified by functions. Each provider may offer data sources alongside its set of resource types. A data source is accessed via a special kind of resource known as a data resource, declared using a data block.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> data &quot;rediscloud_payment_method&quot; &quot;card&quot; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> card_type = &quot;Visa&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> last_four_numbers = &quot;XXXX&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A data block requests that Terraform read from a given data source (&quot;rediscloud_payment_method&quot;) and export the result under the given local name (&quot;card&quot;). The name is used to refer to this resource from elsewhere in the same Terraform module, but has no significance outside of the scope of a module.</p><p>Within the block body (between { and }) are query constraints defined by the data source. Most arguments in this section depend on the data source, and indeed in this example card_type and last_four_numbers are all arguments defined specifically for the rediscloud_payment_method data source.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="configure-redis-enterprise-cloud-programmatic-access">Configure Redis Enterprise Cloud programmatic access<a class="hash-link" href="#configure-redis-enterprise-cloud-programmatic-access" title="Direct link to heading">​</a></h3><p>In order to set up authentication with the Redis Enterprise Cloud provider, a programmatic API key must be generated for Redis Enterprise Cloud. The Redis Enterprise Cloud documentation contains the most up-to-date instructions for creating and managing your key(s) and IP access.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Flexible and Annual Redis Enterprise Cloud subscriptions can leverage a RESTful API that permits operations against a variety of resources, including servers, services, and related infrastructure. The REST API is not supported for Fixed or Free subscriptions.</p></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> provider &quot;rediscloud&quot; { } # Example resource configuration</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> resource &quot;rediscloud_subscription&quot; &quot;example&quot; { # ... }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="prerequisites">Prerequisites:<a class="hash-link" href="#prerequisites" title="Direct link to heading">​</a></h3><ul><li>Install Terraform on MacOS.</li><li>Create a free Redis Enterprise Cloud account.</li><li>Create your first subscription.</li><li>Enable API</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-1-install-terraform-on-macos">Step 1: Install Terraform on MacOS<a class="hash-link" href="#step-1-install-terraform-on-macos" title="Direct link to heading">​</a></h3><p>Use Homebrew to install Terraform on MacOS as shown below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> brew install terraform</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-2-sign-up-for-a-free-redis-enterprise-cloud-account">Step 2: Sign up for a free Redis Enterprise Cloud account<a class="hash-link" href="#step-2-sign-up-for-a-free-redis-enterprise-cloud-account" title="Direct link to heading">​</a></h3><p><a href="https://developer.redis.com/create/aws/redis-on-aws" target="_blank" rel="noopener noreferrer">Follow this tutorial</a> to sign up for a free Redis Enterprise Cloud account.</p><p><img loading="lazy" alt="Redis Cloud" src="/assets/images/tryfree-ff92078df0256461ff88ef3ac72cbb1d.png" width="1350" height="950" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-3-enable-redis-enterprise-cloud-api">Step 3: Enable Redis Enterprise Cloud API<a class="hash-link" href="#step-3-enable-redis-enterprise-cloud-api" title="Direct link to heading">​</a></h3><p>If you have a Flexible (or Annual) Redis Enterprise Cloud subscription, you can use a REST API to manage your subscription programmatically. The Redis Cloud REST API is available only to Flexible or Annual subscriptions. It is not supported for Fixed or Free subscriptions.</p><p>For security reasons, the Redis Cloud API is disabled by default. To enable the API:</p><ul><li><p>Sign in to your Redis Cloud subscription as an account owner.</p></li><li><p>From the menu, choose Access Management.</p></li><li><p>When the Access Management screen appears, select the API Keys tab.</p></li></ul><p><img loading="lazy" alt="Terraform" src="/assets/images/accessmanagement-ce4d070c0da6ff7d6b772f754c4def33.png" width="1318" height="694" class="img_ev3q"></p><p>If a Copy button appears to the right of the API account key, the API is enabled. This button copies the account key to the clipboard.</p><p>If you see an Enable API button, select it to enable the API and generate your API account key.</p><p>To authenticate REST API calls, you need to combine the API account key with an API user key to make API calls.</p><p><img loading="lazy" alt="Terraform" src="/assets/images/accessmanagement1-26d59fb1f277d9f389fc10975f175ca8.png" width="1408" height="790" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-4-create-a-maintf-file">Step 4: Create a main.tf file<a class="hash-link" href="#step-4-create-a-maintf-file" title="Direct link to heading">​</a></h3><p>It’s time to create an empty “main.tf” file and start adding the provider, resource and data sources as shown below:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> terraform {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> required_providers {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   rediscloud = {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     source = &quot;RedisLabs/rediscloud&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     version = &quot;0.2.2&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Provide your credit card details</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">data &quot;rediscloud_payment_method&quot; &quot;card&quot; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">card_type = &quot;Visa&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">last_four_numbers = &quot;XXXX&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Generates a random password for the database</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">resource &quot;random_password&quot; &quot;passwords&quot; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">count = 2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">length = 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">upper = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">lower = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">number = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">special = false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">resource &quot;rediscloud_subscription&quot; &quot;rahul-test-terraform&quot; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name = &quot;rahul-test-terraform&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">payment_method_id = data.rediscloud_payment_method.card.id</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">memory_storage = &quot;ram&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cloud_provider {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  provider = &quot;AWS&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  cloud_account_id = 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  region {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    region = &quot;us-east-1&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    networking_deployment_cidr = &quot;10.0.0.0/24&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    preferred_availability_zones = [&quot;us-east-1a&quot;]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">database {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  name = &quot;db-json&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  protocol = &quot;redis&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  memory_limit_in_gb = 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  replication = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  data_persistence = &quot;aof-every-1-second&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  module {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      name = &quot;RedisJSON&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  throughput_measurement_by = &quot;operations-per-second&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  throughput_measurement_value = 10000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  password = random_password.passwords[1].result</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-5-create-an-execution-plan">Step 5: Create an execution plan<a class="hash-link" href="#step-5-create-an-execution-plan" title="Direct link to heading">​</a></h3><p>The Terraform plan command creates an execution plan, which lets you preview the changes that Terraform plans to make to your infrastructure. By default, when Terraform creates a plan, it reads the current state of any already existing remote objects to make sure that Terraform state is up to date. It then compares the current configuration to the prior state and then proposes a set of change actions that should make the remote object match the configuration.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> % terraform plan</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> + create</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Terraform will perform the following actions:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> # random_password.passwords[0] will be created</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> + resource &quot;random_password&quot; &quot;passwords&quot; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + id     = (known after apply)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + length   = 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + lower    = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + min_lower  = 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + min_numeric = 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + min_special = 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + min_upper  = 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + number   = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + result   = (sensitive value)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + special   = false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + upper    = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> # random_password.passwords[1] will be created</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> + resource &quot;random_password&quot; &quot;passwords&quot; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + id     = (known after apply)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + length   = 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + lower    = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + min_lower  = 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + min_numeric = 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + min_special = 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + min_upper  = 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + number   = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + result   = (sensitive value)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + special   = false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + upper    = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> # rediscloud_subscription.rahul-test-terraform will be created</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> + resource &quot;rediscloud_subscription&quot; &quot;rahul-test-terraform&quot; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + id              = (known after apply)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + memory_storage        = &quot;ram&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + name             = &quot;rahul-test-terraform&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + payment_method_id       = &quot;XXXX&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + persistent_storage_encryption = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + cloud_provider {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     + cloud_account_id = &quot;1&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     + provider     = &quot;AWS&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     + region {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       + multiple_availability_zones = false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       + networking_deployment_cidr  = &quot;10.0.0.0/24&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       + networks           = (known after apply)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       + preferred_availability_zones = [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         + &quot;us-east-1a&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       + region            = &quot;us-east-1&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + database {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     # At least one attribute in this block is (or was) sensitive,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     # so its contents will not be displayed.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Plan: 3 to add, 0 to change, 0 to destroy.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">:::note</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">You didn&#x27;t use the -out option to save this plan, so Terraform can&#x27;t guarantee to take exactly these actions if you run &quot;terraform apply&quot; now.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">:::</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-6-execute-the-action">Step 6: Execute the action<a class="hash-link" href="#step-6-execute-the-action" title="Direct link to heading">​</a></h3><p>The Terraform apply command executes the actions proposed in a Terraform plan.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> terraform apply</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> + create</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Terraform will perform the following actions:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> # random_password.passwords[0] will be created</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> + resource &quot;random_password&quot; &quot;passwords&quot; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + id     = (known after apply)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + length   = 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + lower    = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + min_lower  = 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + min_numeric = 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + min_special = 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + min_upper  = 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + number   = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + result   = (sensitive value)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + special   = false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + upper    = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> # random_password.passwords[1] will be created</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> + resource &quot;random_password&quot; &quot;passwords&quot; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + id     = (known after apply)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + length   = 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + lower    = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + min_lower  = 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + min_numeric = 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + min_special = 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + min_upper  = 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + number   = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + result   = (sensitive value)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + special   = false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + upper    = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> # rediscloud_subscription.rahul-test-terraform will be created</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> + resource &quot;rediscloud_subscription&quot; &quot;rahul-test-terraform&quot; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + id              = (known after apply)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + memory_storage        = &quot;ram&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + name             = &quot;rahul-test-terraform&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + payment_method_id       = &quot;XXXX&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + persistent_storage_encryption = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + cloud_provider {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     + cloud_account_id = &quot;1&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     + provider     = &quot;AWS&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     + region {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       + multiple_availability_zones = false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       + networking_deployment_cidr  = &quot;10.0.0.0/24&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       + networks           = (known after apply)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       + preferred_availability_zones = [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         + &quot;us-east-1a&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       + region            = &quot;us-east-1&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   + database {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     # At least one attribute in this block is (or was) sensitive,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     # so its contents will not be displayed.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Plan: 3 to add, 0 to change, 0 to destroy.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Do you want to perform these actions?</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Terraform will perform the actions described above.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Only &#x27;yes&#x27; will be accepted to approve.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> Enter a value: yes</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">random_password.passwords[0]: Creating...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">random_password.passwords[1]: Creating...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">random_password.passwords[1]: Creation complete after 0s [id=none]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">random_password.passwords[0]: Creation complete after 0s [id=none]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">rediscloud_subscription.rahul-test-terraform: Creating...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">rediscloud_subscription.rahul-test-terraform: Still creating... [10s elapsed]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">rediscloud_subscription.rahul-test-terraform: Still creating... [20s elapsed]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">rediscloud_subscription.rahul-test-terraform: Creation complete after 8m32s [id=1649277]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Apply complete! Resources: 3 added, 0 changed, 0 destroyed.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-7-verify-the-database">Step 7: Verify the database<a class="hash-link" href="#step-7-verify-the-database" title="Direct link to heading">​</a></h3><p>You can now verify the new database created under Subscription named “db-json.”</p><p>Deploy a Redis Database with RedisJSON modules on AWS using Terraform:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">terraform {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">required_providers {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  rediscloud = {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    source = &quot;RedisLabs/rediscloud&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    version = &quot;0.2.2&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Provide your credit card details</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">data &quot;rediscloud_payment_method&quot; &quot;card&quot; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">card_type = &quot;Visa&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">last_four_numbers = &quot;XXXX&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"># Generates a random password for the database</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">resource &quot;random_password&quot; &quot;passwords&quot; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">count = 2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">length = 20</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">upper = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">lower = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">number = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">special = false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">resource &quot;rediscloud_subscription&quot; &quot;rahul-test-terraform&quot; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">name = &quot;rahul-test-terraform&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">payment_method_id = data.rediscloud_payment_method.card.id</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">memory_storage = &quot;ram&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">cloud_provider {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  provider = &quot;AWS&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  cloud_account_id = 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  region {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    region = &quot;us-east-1&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    networking_deployment_cidr = &quot;10.0.0.0/24&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    preferred_availability_zones = [&quot;us-east-1a&quot;]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">database {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  name = &quot;db-json&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  protocol = &quot;redis&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  memory_limit_in_gb = 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  replication = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  data_persistence = &quot;aof-every-1-second&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  module {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      name = &quot;RedisJSON&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  throughput_measurement_by = &quot;operations-per-second&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  throughput_measurement_value = 10000</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  password = random_password.passwords[1].result</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="step-8-cleanup">Step 8: Cleanup<a class="hash-link" href="#step-8-cleanup" title="Direct link to heading">​</a></h3><p>The Terraform destroy command is a convenient way to destroy all remote objects managed by a particular Terraform configuration. While you will typically not want to destroy long-lived objects in a production environment, Terraform is sometimes used to manage ephemeral infrastructure for development purposes, in which case you can use terraform destroy’ to conveniently clean up all of those temporary objects once you are finished with your work.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">% terraform destroy</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">random_password.passwords[0]: Refreshing state... [id=none]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">random_password.passwords[1]: Refreshing state... [id=none]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">rediscloud_subscription.rahul-test-terraform: Refreshing state... [id=1649277]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  - destroy</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Terraform will perform the following actions:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  # random_password.passwords[0] will be destroyed</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  - resource &quot;random_password&quot; &quot;passwords&quot; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - id          = &quot;none&quot; -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - length      = 20 -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - lower       = true -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - min_lower   = 0 -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - min_numeric = 0 -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - min_special = 0 -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - min_upper   = 0 -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - number      = true -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - result      = (sensitive value)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - special     = false -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - upper       = true -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  # random_password.passwords[1] will be destroyed</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  - resource &quot;random_password&quot; &quot;passwords&quot; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - id          = &quot;none&quot; -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - length      = 20 -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - lower       = true -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - min_lower   = 0 -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - min_numeric = 0 -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - min_special = 0 -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - min_upper   = 0 -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - number      = true -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - result      = (sensitive value)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - special     = false -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - upper       = true -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  # rediscloud_subscription.rahul-test-terraform will be destroyed</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  - resource &quot;rediscloud_subscription&quot; &quot;rahul-test-terraform&quot; {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - id                            = &quot;1649277&quot; -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - memory_storage                = &quot;ram&quot; -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - name                          = &quot;rahul-test-terraform&quot; -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - payment_method_id             = &quot;XXXX&quot; -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - persistent_storage_encryption = true -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - cloud_provider {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          - cloud_account_id = &quot;1&quot; -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          - provider         = &quot;AWS&quot; -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          - region {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              - multiple_availability_zones  = false -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              - networking_deployment_cidr   = &quot;10.0.0.0/24&quot; -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              - networks                     = [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  - {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                      - networking_deployment_cidr = &quot;10.0.0.0/24&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                      - networking_subnet_id       = &quot;subnet-0055e8e3ee3ea796e&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                      - networking_vpc_id          = &quot;&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                ] -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              - preferred_availability_zones = [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  - &quot;us-east-1a&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                ] -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              - region                       = &quot;us-east-1&quot; -&gt; null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      - database {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          # At least one attribute in this block is (or was) sensitive,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          # so its contents will not be displayed.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Plan: 0 to add, 0 to change, 3 to destroy.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Do you really want to destroy all resources?</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Terraform will destroy all your managed infrastructure, as shown above.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  There is no undo. Only &#x27;yes&#x27; will be accepted to confirm.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  Enter a value: yes</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">rediscloud_subscription.rahul-test-terraform: Destroying... [id=1649277]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">…</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">rediscloud_subscription.rahul-test-terraform: Destruction complete after 1m34s</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">random_password.passwords[0]: Destroying... [id=none]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">random_password.passwords[1]: Destroying... [id=none]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">random_password.passwords[0]: Destruction complete after 0s</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">random_password.passwords[1]: Destruction complete after 0s</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">Destroy complete! Resources: 3 destroyed.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="further-references">Further References:<a class="hash-link" href="#further-references" title="Direct link to heading">​</a></h3><ul><li><a href="https://redis.com/blog/provision-manage-redis-enterprise-cloud-hashicorp-terraform/" target="_blank" rel="noopener noreferrer">Provision and Manage Redis Enterprise Cloud Anywhere with HashiCorp Terraform</a></li><li><a href="https://registry.terraform.io/providers/RedisLabs/rediscloud/latest" target="_blank" rel="noopener noreferrer">The HashiCorp Terraform Redis Enterprise Cloud provider</a></li><li><a href="https://developer.redis.com/create/azure/terraform-simple" target="_blank" rel="noopener noreferrer">Azure Cache for Redis Enterprise using Terraform</a></li><li><a href="https://developer.redis.com/create/azure/terraform-private-endpoint" target="_blank" rel="noopener noreferrer">Azure Cache for Redis Enterprise using Terraform with Private Link</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/redis-developer/redis-developer/edit/master/docs/operate/provisioning/terraform/index-terraform.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-11-10T17:16:41.000Z">Nov 10, 2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/operate/provisioning"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/operate/provisioning/azure-cache-terraform"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Azure Cache for Redis Enterprise using Terraform</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-terraform" class="table-of-contents__link toc-highlight">What is Terraform?</a></li><li><a href="#capabilities-of-terraform" class="table-of-contents__link toc-highlight">Capabilities of Terraform</a></li><li><a href="#the-hashicorp-terraform-redis-enterprise-cloud-provider" class="table-of-contents__link toc-highlight">The HashiCorp Terraform Redis Enterprise Cloud provider</a></li><li><a href="#providers" class="table-of-contents__link toc-highlight">Providers</a></li><li><a href="#resources" class="table-of-contents__link toc-highlight">Resources</a></li><li><a href="#data-sources" class="table-of-contents__link toc-highlight">Data sources</a></li><li><a href="#configure-redis-enterprise-cloud-programmatic-access" class="table-of-contents__link toc-highlight">Configure Redis Enterprise Cloud programmatic access</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites:</a></li><li><a href="#step-1-install-terraform-on-macos" class="table-of-contents__link toc-highlight">Step 1: Install Terraform on MacOS</a></li><li><a href="#step-2-sign-up-for-a-free-redis-enterprise-cloud-account" class="table-of-contents__link toc-highlight">Step 2: Sign up for a free Redis Enterprise Cloud account</a></li><li><a href="#step-3-enable-redis-enterprise-cloud-api" class="table-of-contents__link toc-highlight">Step 3: Enable Redis Enterprise Cloud API</a></li><li><a href="#step-4-create-a-maintf-file" class="table-of-contents__link toc-highlight">Step 4: Create a main.tf file</a></li><li><a href="#step-5-create-an-execution-plan" class="table-of-contents__link toc-highlight">Step 5: Create an execution plan</a></li><li><a href="#step-6-execute-the-action" class="table-of-contents__link toc-highlight">Step 6: Execute the action</a></li><li><a href="#step-7-verify-the-database" class="table-of-contents__link toc-highlight">Step 7: Verify the database</a></li><li><a href="#step-8-cleanup" class="table-of-contents__link toc-highlight">Step 8: Cleanup</a></li><li><a href="#further-references" class="table-of-contents__link toc-highlight">Further References:</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><svg width="785" height="158" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="shape"><defs><path d="M786.344 392.459c-41.822 22.164-258.313 110.84-305.056 135.477-46.742 24.637-72.163 23.812-108.246 6.57-36.082-17.24-267.334-111.664-309.156-131.377-41.822-19.713-42.642-33.657-1.64-49.271C103.25 338.265 332.86 247.94 381.243 229.875c48.383-18.065 65.604-18.065 106.605-2.473 41.003 15.614 256.674 100.996 297.676 115.785 41.002 14.791 42.642 27.912.82 49.273v-.001z" id="a"></path><mask id="b" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="785" height="331" fill="#fff"><use xlink:href="#a"></use></mask></defs><use mask="url(#b)" xlink:href="#a" transform="translate(-32 -216)" stroke="#465282" stroke-width="4" fill="none" fill-rule="evenodd" stroke-dasharray="3.637"></use></svg><img src="/img/code-2.png" class="code" alt=""><div class="row"><div class="col col--3"><div class="footer__logo-ctr"><span class="footer__logo-tagline">Made with &lt;/&gt; by</span><a href="https://redis.com/" target="_blank" rel="noopener" class="footerLogoLink_fGS1"><img loading="lazy" class="footer__logo" alt="Redis logo" src="/img/redis_logo_red_white_rgb.svg"></a></div></div><div class="col col--9"><div class="row footer__links"><div class="col col--4 footer__col"><h4 class="footer__title">Get Started</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/create/rediscloud">Create Database</a></li><li class="footer__item"><a class="footer__link-item" href="/develop/">Develop</a></li><li class="footer__item"><a class="footer__link-item" href="/explore/redisinsight/">Explore your data</a></li><li class="footer__item"><a href="https://redis.com/redis-best-practices/introduction/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Best Practices</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/create/redis-stack/">Redis Stack</a></li></ul></div><div class="col col--4 footer__col"><h4 class="footer__title">Resources</h4><ul class="footer__items"><li class="footer__item"><a href="https://redis.com/community/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community</a></li><li class="footer__item"><a href="https://university.redis.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Redis University</a></li><li class="footer__item"><a href="https://redis.io/commands" target="_blank" rel="noopener noreferrer" class="footer__link-item">Redis Commands</a></li><li class="footer__item"><a class="footer__link-item" href="/howtos">How-tos &amp; tutorials</a></li><li class="footer__item"><a href="https://stackoverflow.com/search?q=redis" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li></ul></div></div></div></div><div class="footer__copyright">Copyright: © 2022 Redis. All rights reserved. Redis and the cube logo are registered trademarks of Redis Ltd.</div></div></footer></div>
<script src="/assets/js/runtime~main.0b0d2ad1.js"></script>
<script src="/assets/js/main.b2a0f360.js"></script>
</body>
</html>