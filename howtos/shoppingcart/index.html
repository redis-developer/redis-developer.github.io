<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Redis Developer Hub Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Redis Developer Hub Blog Atom Feed">
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-W8Z6BLQ",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script><title data-react-helmet="true">How to build a Shopping cart app using NodeJS and Redis | Redis Developer Hub</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="/img/share.png"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="How to build a Shopping cart app using NodeJS and Redis | Redis Developer Hub"><meta data-react-helmet="true" name="description" content="Itâ€™s hard to imagine an online store without a shopping cart. Almost every online store must have the shopping cart functionality to be able to sell products to customers. In order to build a scalable ecommerce platform, you need a powerful framework and a simple storage system. At times, a lot of developers focus on improving the frontend performance of an ecommerce platform to rectify these things. The real bottleneck, however, remains the slow backend load time."><meta data-react-helmet="true" property="og:description" content="Itâ€™s hard to imagine an online store without a shopping cart. Almost every online store must have the shopping cart functionality to be able to sell products to customers. In order to build a scalable ecommerce platform, you need a powerful framework and a simple storage system. At times, a lot of developers focus on improving the frontend performance of an ecommerce platform to rectify these things. The real bottleneck, however, remains the slow backend load time."><meta data-react-helmet="true" property="og:url" content="https://developer.redis.com/howtos/shoppingcart"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://fonts.gstatic.com"><link data-react-helmet="true" href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&amp;family=Roboto+Mono:wght@400;500;600;700&amp;display=swap" rel="stylesheet"><link data-react-helmet="true" href="/css/redis-sitesearch.css" rel="stylesheet"><link data-react-helmet="true" href="/css/redis-sitesearch-overrides.css" rel="stylesheet"><link data-react-helmet="true" rel="canonical" href="https://developer.redis.com/howtos/shoppingcart"><link rel="stylesheet" href="/styles.68cfdffa.css">
<link rel="stylesheet" href="/main.8cbeb264.css">
<link rel="preload" href="/styles.b9c37683.js" as="script">
<link rel="preload" href="/runtime~main.e950b190.js" as="script">
<link rel="preload" href="/main.c4c7d56e.js" as="script">
<link rel="preload" href="/1.99ebfa80.js" as="script">
<link rel="preload" href="/2.40bd919a.js" as="script">
<link rel="preload" href="/3.5df694a1.js" as="script">
<link rel="preload" href="/1be78505.41ede2c7.js" as="script">
<link rel="preload" href="/935f2afb.3c0f7539.js" as="script">
<link rel="preload" href="/17896441.3b88a478.js" as="script">
<link rel="preload" href="/ab704c68.efc1a610.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W8Z6BLQ" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg width="24" height="18" xmlns="http://www.w3.org/2000/svg"><g stroke="#FFFFFF" stroke-width="1.65" fill="none" fill-rule="evenodd" stroke-dasharray="4.4" stroke-linecap="round" stroke-linejoin="round"><path d="M1 16.95h24.2M1 9.25h24.2M1 1.55h24.2"></path></g></svg></div><a class="navbar__brand" href="/"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a></div><div class="navbar__items navbar__items--right"><div id="redis-sitesearch" class="redis-sitesearch redis-sitesearch-inline"><input class="redis-sitesearch-input"><div class="redis-sitesearch-result-list-wrapper"><ul class="redis-sitesearch-result-list"></ul><div class="redisearch-logo"></div></div></div><a class="navbar__item navbar__link" href="/create/rediscloud">Get started</a><a href="https://redis.com/try-free/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Try Free</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_16CL"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo-1.png" alt="Redis Developer Hub logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/create/rediscloud">Get started</a></li><li class="menu__list-item"><a href="https://redis.com/try-free/" target="_blank" rel="noopener noreferrer" class="menu__link">Try Free</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">How to build a Shopping cart app using NodeJS and Redis</h1></header><div class="markdown"><p>Itâ€™s hard to imagine an online store without a shopping cart. Almost every online store must have the shopping cart functionality to be able to sell products to customers. In order to build a scalable ecommerce platform, you need a powerful framework and a simple storage system. At times, a lot of developers focus on improving the frontend performance of an ecommerce platform to rectify these things. The real bottleneck, however, remains the slow backend load time.
A slow backend load time can have a serious impact on your search engine rankings. A good rule of thumb is that backend load time should take no more than 20% of your total load time. A good backend load time to aim for is 200ms or less.
In this tutorial, you will see how to build a shopping cart application using Node.js, Vue.js, Express and Redis.</p><div class="text--center"><iframe width="760" height="415" src="https://www.youtube.com/embed/Fvjn5fuUxOU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="content"></a>Content<a class="hash-link" href="#content" title="Direct link to heading">#</a></h3><ul><li>What will you build?</li><li>What do you need?</li><li>Getting started</li><li>Setting up the backend (Node.js Express)</li><li>Setting up the frontend (Vue.js)</li><li>Running the application</li><li>Conclusion</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="what-will-you-build"></a>What will you build?<a class="hash-link" href="#what-will-you-build" title="Direct link to heading">#</a></h3><p>This tutorial will show you how to harness the power of Redis by creating a basic ecommerce shopping cart application with Node.js. Usually, the shopping cart data is stored on the client-side as a cookie. Cookies are small text files stored in a web user&#x27;s browser directory or data folder. The advantage of doing this is that you wouldn&#x27;t need to store such temporary data in your database. However, this will require you to send the cookies with every web request, which can slow down the request in case of large cookies. Storing shopping cart data in Redis is a good idea since you can retrieve the items very fast at any time and persist this data if needed.</p><p><img alt="Shopping Cart" src="/assets/images/shopping2-cdb4e24f67089759277bd37792e942e1.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="what-do-you-need"></a>What do you need?<a class="hash-link" href="#what-do-you-need" title="Direct link to heading">#</a></h3><ul><li>Redis compiled with RedisJSON module</li><li>Express 4 backend</li><li>Node 15.5.0 (at least v12.9.0+)</li><li>NPM 7.3.0 (at least v6.14.8+)</li><li>Docker 19.03.X (Optional)</li><li>Docker Compose (Optional)</li></ul><p>Building an ecommerce app with Node.js makes a lot more sense because it ensures the balance between frontend and backend load time due to its asynchronous nature (the ability to handle multiple concurrent users at a time). Node.js helps developers make the best use of event loops and callbacks for I/O operations. Node.js runs single-threaded, non-blocking, asynchronous programming, which is very memory efficient.</p><p>In order to create a shopping cart we need a simple storage system where we can collect products and the cart&#x27;s total. Node.js provides us with the express-session package, middleware for ExpressJS. We will be using express-session middleware to manage sessions in Node.js The session is stored in the express server itself.</p><p>The default server-side session storage, MemoryStore, is purposely not designed for a production environment. It will leak memory under most conditions, does not scale past a single process, and is meant for debugging and developing. To manage multiple sessions for multiple users, we have to create a global map and put each session object to it. Global variables in NodeJs are memory consuming and can prove to be terrible security holes in production-level projects.This can be solved by using an external session store. We have to store every session in the store so that each one will belong to only a single user. One popular session store is built using Redis.</p><p>We will start by setting up the backend for our application. Letâ€™s create a new directory for our application and initialize a new Node.js application. Open up your terminal and type the following:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="getting-started"></a>Getting Started<a class="hash-link" href="#getting-started" title="Direct link to heading">#</a></h3><p>Clone the repository:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ git clone https://github.com/redis-developer/basic-redis-shopping-chart-nodejs</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="compiling-redis-with-redisjson-module"></a>Compiling Redis with RedisJSON module<a class="hash-link" href="#compiling-redis-with-redisjson-module" title="Direct link to heading">#</a></h4><p>You can use the below docker compose file to run Redis server compiled with RedisJSON module:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">version: &#x27;3&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">services:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    redis:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        image: redislabs/rejson:latest</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        container_name: redis.redisshoppingcart.docker</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        restart: unless-stopped</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        environment:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            REDIS_PASSWORD: ${REDIS_PASSWORD}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        command: redis-server --loadmodule &quot;/usr/lib/redis/modules/rejson.so&quot; --requirepass &quot;$REDIS_PASSWORD&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ports:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            - 127.0.0.1:${REDIS_PORT}:6379</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        networks:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            - global</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">networks:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    global:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        external: true</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>I assume that you have Docker and Docker Compose up and installed on your local environment. Execute the below compose CLI to bring up Redis server:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ docker network create global </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ docker-compose up -d --build</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The <code>docker-compose ps</code> shows the list of running Redis services:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ docker-compose ps</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Name                           Command               State          Ports          </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">redis.redisshoppingcart.docker   docker-entrypoint.sh redis ...   Up      127.0.0.1:55000-&gt;6379/tcp</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setting-up-the-backend-server"></a>Setting up the backend server<a class="hash-link" href="#setting-up-the-backend-server" title="Direct link to heading">#</a></h3><p><img alt="Shopping" src="/assets/images/shoppingcart3-1f2b38c7fed16271a55d4b4e93423f3f.png"></p><p>Node.js is a runtime environment that allows software developers to launch both the frontend and backend of web apps using JavaScript. To save your time, the directory /server/src has already been created for you.This is where we will be creating our modules by adding the following sub-directories -</p><ul><li>routes</li><li>controller</li><li>middleware</li><li>services</li></ul><p>Routes forward the supported requests (and any information encoded in request URLs) to the appropriate controller functions, whereas controller functions get the requested data from the models, create an HTML page displaying the data, and return it to the user to view in the browser. Services hold your actual business logic. Middleware functions are functions that have access to the request object (req), the response object (res), and the next middleware function in the applicationâ€™s request-response cycle.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="project-directory-structure"></a>Project directory structure<a class="hash-link" href="#project-directory-structure" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">% tree</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ controllers</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â”œâ”€â”€ Cart</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â”‚   â”œâ”€â”€ DeleteItemController.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â”‚   â”œâ”€â”€ EmptyController.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â”‚   â”œâ”€â”€ IndexController.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â”‚   â””â”€â”€ UpdateController.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â””â”€â”€ Product</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚       â”œâ”€â”€ IndexController.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚       â””â”€â”€ ResetController.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ index.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ middleware</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â””â”€â”€ checkSession.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ products.json</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ routes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â”œâ”€â”€ cart.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â”œâ”€â”€ index.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â””â”€â”€ products.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â””â”€â”€ services</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    â””â”€â”€ RedisClient.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">6 directories, 13 files</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Let us first initialize the application server through the index.js shown below:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// server/src/index.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const express = require(&#x27;express&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const redis = require(&#x27;redis&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const rejson = require(&#x27;redis-rejson&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const session = require(&#x27;express-session&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const RedisStore = require(&#x27;connect-redis&#x27;)(session);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const path = require(&#x27;path&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const bodyParser = require(&#x27;body-parser&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const cors = require(&#x27;cors&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const RedisClient = require(&#x27;./services/RedisClient&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">rejson(redis);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">require(&#x27;dotenv&#x27;).config();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const { REDIS_ENDPOINT_URI, REDIS_HOST, REDIS_PORT, REDIS_PASSWORD, PORT } = process.env;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const app = express();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">app.use(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cors({</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        origin(origin, callback) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            callback(null, true);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        credentials: true</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    })</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const redisEndpointUri = REDIS_ENDPOINT_URI</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ? REDIS_ENDPOINT_URI.replace(/^(redis\:\/\/)/, &#x27;&#x27;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    : `${REDIS_HOST}:${REDIS_PORT}`;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const redisClient = redis.createClient(`redis://${redisEndpointUri}`, {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    password: REDIS_PASSWORD</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">});</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const redisClientService = new RedisClient(redisClient);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">app.set(&#x27;redisClientService&#x27;, redisClientService);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">app.use(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    session({</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        store: new RedisStore({ client: redisClient }),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        secret: &#x27;someSecret&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        resave: false,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        saveUninitialized: false,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        rolling: true,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        cookie: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            maxAge: 3600 * 1000 * 3</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    })</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">app.use(bodyParser.json());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">app.use(&#x27;/&#x27;, express.static(path.join(__dirname, &#x27;../../client-dist&#x27;)));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const router = require(&#x27;./routes&#x27;)(app);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">app.use(&#x27;/api&#x27;, router);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const port = PORT || 3000;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">app.listen(port, () =&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    console.log(`App listening on port ${port}`);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">});</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>You&#x27;ll see that the responsibility of this index.js is to simply set up the server. It initializes all the middleware, sets up the view engine, etc. The last thing to do is set up routes by deferring that responsibility to the index.js within the routes folder.</p><p>As shown above, app.use, app.set, and app.listen are endpoints, for the purposes of this demo, we will need to be able to add and get items from the basket ( Keeping it simple ).
We need to define our basic routes to get all products, get single product details, remove products, and create products. </p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="routes"></a>Routes<a class="hash-link" href="#routes" title="Direct link to heading">#</a></h4><p>The routes directory is only responsible for defining our routes. Within index.js in this folder, you&#x27;ll see that its responsibility is to set up our top level routes and delegate their responsibilities to each of their respective route files. Each respective route file will further define any additional subroutes and controller actions for each one.</p><p>The web server skeleton already has a ./routes folder containing routes for the index, products and cart. (as shown under <a href="https://github.com/redis-developer/basic-redis-shopping-chart-nodejs/tree/main/server/src/routes" target="_blank" rel="noopener noreferrer">https://github.com/redis-developer/basic-redis-shopping-chart-nodejs/tree/main/server/src/routes</a>)   </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// routes/index.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const fs = require(&#x27;fs&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const express = require(&#x27;express&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const router = express.Router();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">module.exports = app =&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fs.readdirSync(__dirname).forEach(function (route) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        route = route.split(&#x27;.&#x27;)[0];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if (route === &#x27;index&#x27;) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        router.use(`/${route}`, require(`./${route}`)(app));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    });</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return router;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>A route is a section of Express code that associates an HTTP verb (GET, POST, PUT, DELETE, etc.), a URL path/pattern, and a function that is called to handle that pattern.
There are several ways to create routes. For this demo app we&#x27;re going to use the express.Router middleware as it allows us to group the route handlers for a particular part of a site together and access them using a common route-prefix.
The module requires Express and then uses it to create a Router object. The routes are all set up on the router, which is then exported.The routes are defined either using .get() or .post() methods on the router object. All the paths are defined using strings (we don&#x27;t use string patterns or regular expressions). Routes that act on some specific resource (e.g. book) use path parameters to get the object id from the URL.
The handler functions are all imported from the controller modules we created in the previous section.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="controllers"></a>Controllers<a class="hash-link" href="#controllers" title="Direct link to heading">#</a></h4><p>Controllers are responsible for invoking the appropriate action. If a controller&#x27;s responsibility is to render a view, it will render the appropriate view from the app/views directory.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// controller/Product/IndexController.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const { products } = require(&#x27;../../products.json&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class ProductIndexController {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    constructor(redisClientService) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this.redisClientService = redisClientService;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    async index(req, res) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        const productKeys = await this.redisClientService.scan(&#x27;product:*&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        const productList = [];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if (productKeys.length) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            for (const key of productKeys) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                const product = await this.redisClientService.jsonGet(key);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                productList.push(JSON.parse(product));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return res.send(productList);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for (const product of products) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            const { id } = product;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            await this.redisClientService.jsonSet(`product:${id}`, &#x27;.&#x27;, JSON.stringify(product));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            productList.push(product);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return res.send(productList);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">module.exports = ProductIndexController;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="services"></a>Services<a class="hash-link" href="#services" title="Direct link to heading">#</a></h4><p>Services hold your actual business logic.The service layer carries out the application logic and delegates CRUD operations to a database/persistent storage (Redis in our case). Let us look at each condition and try to understand how the data is stored, modified, and accessed:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-the-data-is-stored"></a>How the data is stored:<a class="hash-link" href="#how-the-data-is-stored" title="Direct link to heading">#</a></h4><p>The product data is stored in an external JSON file. After the first request, this data is saved in a JSON data type in Redis like: </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">JSON.SET product:{productId} . &#x27;{ &quot;id&quot;: &quot;productId&quot;, &quot;name&quot;: &quot;Product Name&quot;, &quot;price&quot;: &quot;375.00&quot;, &quot;stock&quot;: 10 }&#x27;.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="example"></a>Example:<a class="hash-link" href="#example" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">JSON.SET product:e182115a-63d2-42ce-8fe0-5f696ecdfba6 . &#x27;{ &quot;id&quot;: &quot;e182115a-63d2-42ce-8fe0-5f696ecdfba6&quot;, &quot;name&quot;: &quot;Brilliant Watch&quot;, &quot;price&quot;: &quot;250.00&quot;, &quot;stock&quot;: 2 }&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The cart data is stored in a hash like: </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">HSET cart:{cartId} product:{productId} {productQuantity}, </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>where cartId is a random generated value and stored in the user session. Please note that Redisâ€™s hash management command HSET stores 2 keys-cart and product-as shown in the below example.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="example-1"></a>Example:<a class="hash-link" href="#example-1" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">HSET cart:77f7fc881edc2f558e683a230eac217d product:e182115a-63d2-42ce-8fe0-5f696ecdfba6 1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-the-data-is-modified"></a>How the data is modified:<a class="hash-link" href="#how-the-data-is-modified" title="Direct link to heading">#</a></h4><p>The product data is modified like </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">JSON.SET product:{productId} . &#x27;{ &quot;id&quot;: &quot;productId&quot;, &quot;name&quot;: &quot;Product Name&quot;, &quot;price&quot;: &quot;375.00&quot;, &quot;stock&quot;: {newStock} }&#x27;.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="example-2"></a>Example:<a class="hash-link" href="#example-2" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">JSON.SET product:e182115a-63d2-42ce-8fe0-5f696ecdfba6 . &#x27;{ &quot;id&quot;: &quot;e182115a-63d2-42ce-8fe0-5f696ecdfba6&quot;, &quot;name&quot;: &quot;Brilliant Watch&quot;, &quot;price&quot;: &quot;250.00&quot;, &quot;stock&quot;: 1 }&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The cart data is modified like </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">HSET cart:{cartId} product:{productId} {newProductQuantity} or HINCRBY cart:{cartId} product:{productId} {incrementBy}.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="example-3"></a>Example:<a class="hash-link" href="#example-3" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">HSET cart:77f7fc881edc2f558e683a230eac217d product:e182115a-63d2-42ce-8fe0-5f696ecdfba6 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">HINCRBY cart:77f7fc881edc2f558e683a230eac217d product:e182115a-63d2-42ce-8fe0-5f696ecdfba6 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">HINCRBY cart:77f7fc881edc2f558e683a230eac217d product:e182115a-63d2-42ce-8fe0-5f696ecdfba6 -1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The product can be removed from the cart like </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">HDEL cart:{cartId} product:{productId}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="example-4"></a>Example:<a class="hash-link" href="#example-4" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">HDEL cart:77f7fc881edc2f558e683a230eac217d product:e182115a-63d2-42ce-8fe0-5f696ecdfba6</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The cart can be cleared using </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">HGETALL cart:{cartId} and then HDEL cart:{cartId} {productKey} in loop.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="example-5"></a>Example:<a class="hash-link" href="#example-5" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">HGETALL cart:77f7fc881edc2f558e683a230eac217d =&gt; product:e182115a-63d2-42ce-8fe0-5f696ecdfba6, product:f9a6d214-1c38-47ab-a61c-c99a59438b12, product:1f1321bb-0542-45d0-9601-2a3d007d5842 =&gt; HDEL cart:77f7fc881edc2f558e683a230eac217d product:e182115a-63d2-42ce-8fe0-5f696ecdfba6, HDEL cart:77f7fc881edc2f558e683a230eac217d product:f9a6d214-1c38-47ab-a61c-c99a59438b12, HDEL cart:77f7fc881edc2f558e683a230eac217d product:1f1321bb-0542-45d0-9601-2a3d007d5842</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>All carts can be deleted when reset data is requested like: </p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> SCAN {cursor} MATCH cart:* and then DEL cart:{cartId} in loop.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="example-6"></a>Example:<a class="hash-link" href="#example-6" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> SCAN {cursor} MATCH cart:* =&gt; cart:77f7fc881edc2f558e683a230eac217d, cart:217dedc2f558e683a230eac77f7fc881, cart:1ede77f558683a230eac7fc88217dc2f =&gt; DEL cart:77f7fc881edc2f558e683a230eac217d, DEL cart:217dedc2f558e683a230eac77f7fc881, DEL cart:1ede77f558683a230eac7fc88217dc2f</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-the-data-is-accessed"></a>How the data is accessed:<a class="hash-link" href="#how-the-data-is-accessed" title="Direct link to heading">#</a></h4><p>Products: SCAN {cursor} MATCH product:* to get all product keys and then JSON.GET {productKey}</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="example-7"></a>Example:<a class="hash-link" href="#example-7" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">SCAN {cursor} MATCH product:* =&gt; product:e182115a-63d2-42ce-8fe0-5f696ecdfba6, product:f9a6d214-1c38-47ab-a61c-c99a59438b12, product:1f1321bb-0542-45d0-9601-2a3d007d5842 </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">=&gt; JSON.GET product:e182115a-63d2-42ce-8fe0-5f696ecdfba6, JSON.GET product:f9a6d214-1c38-47ab-a61c-c99a59438b1, JSON.GET product:1f1321bb-0542-45d0-9601-2a3d007d5842</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Cart: HGETALL cart:{cartId} to get quantity of products and JSON.GET product:{productId} to get products data in loop.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="example-8"></a>Example:<a class="hash-link" href="#example-8" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">HGETALL cart:77f7fc881edc2f558e683a230eac217d =&gt; product:e182115a-63d2-42ce-8fe0-5f696ecdfba6 (quantity: 1), product:f9a6d214-1c38-47ab-a61c-c99a59438b12 (quantity: 0), product:1f1321bb-0542-45d0-9601-2a3d007d5842 (quantity: 2) =&gt; JSON.GET product:e182115a-63d2-42ce-8fe0-5f696ecdfba6, JSON.GET product:f9a6d214-1c38-47ab-a61c-c99a59438b12, JSON.GET product:1f1321bb-0542-45d0-9601-2a3d007d5842</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>HGETALL returns an array of keys and corresponding values from hash data type.
Open up RedisClient.js file using your favourite editor as shown below:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// services/RedisClient.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const { promisify } = require(&#x27;util&#x27;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class RedisClient {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    constructor(redisClient) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        [&#x27;json_get&#x27;, &#x27;json_set&#x27;, &#x27;hgetall&#x27;, &#x27;hset&#x27;, &#x27;hget&#x27;, &#x27;hdel&#x27;, &#x27;hincrby&#x27;, &#x27;del&#x27;, &#x27;scan&#x27;].forEach(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            method =&gt; (redisClient[method] = promisify(redisClient[method]))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        );</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        this.redis = redisClient;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    async scan(pattern) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        let matchingKeysCount = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        let keys = [];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        const recursiveScan = async (cursor = &#x27;0&#x27;) =&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            const [newCursor, matchingKeys] = await this.redis.scan(cursor, &#x27;MATCH&#x27;, pattern);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            cursor = newCursor;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            matchingKeysCount += matchingKeys.length;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            keys = keys.concat(matchingKeys);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            if (cursor === &#x27;0&#x27;) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                return keys;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            } else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                return await recursiveScan(cursor);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return await recursiveScan();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    jsonGet(key) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return this.redis.json_get(key);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    jsonSet(key, path, json) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return this.redis.json_set(key, path, json);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    hgetall(key) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return this.redis.hgetall(key);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    hset(hash, key, value) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return this.redis.hset(hash, key, value);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    hget(hash, key) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return this.redis.hget(hash, key);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    hdel(hash, key) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return this.redis.hdel(hash, key);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    hincrby(hash, key, incr) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return this.redis.hincrby(hash, key, incr);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    del(key) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return this.redis.del(key);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">module.exports = RedisClient;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-does-the-overall-process-work"></a>How does the overall process work?<a class="hash-link" href="#how-does-the-overall-process-work" title="Direct link to heading">#</a></h4><p>The process flow is fairly straightforward. Once a request is sent to an endpoint on this shopping cart application e.g http://localhost:8081/. It first hits the router for that endpoint and then if it is a public endpoint such as this one it goes to the controller that handles that.  As an analogy, the controller is just like a manager, while the service is the worker. A controller manages the incoming work HTTP requests whereas services receives the request data it needs from the manager in order to perform its tasks</p><p>Next, we create routes for a cart in a module named cart.js. The code first imports the Express application object, uses it to get a Router object and then adds a couple of routes to it using the get() method. Last of all the module returns the Router object.</p><p>First let us define the product model to our controllers/Product/IndexController.js file(<a href="https://github.com/redis-developer/basic-redis-shopping-chart-nodejs/tree/main/server/src/controllers/Product" target="_blank" rel="noopener noreferrer">https://github.com/redis-developer/basic-redis-shopping-chart-nodejs/tree/main/server/src/controllers/Product</a>):</p><p>Our product model will be basic as possible as it holds the product name, price and image.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;products&quot;: [</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;e182115a-63d2-42ce-8fe0-5f696ecdfba6&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;name&quot;: &quot;Brilliant Watch&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;price&quot;: &quot;250.00&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;stock&quot;: 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;f9a6d214-1c38-47ab-a61c-c99a59438b12&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;name&quot;: &quot;Old fashion cellphone&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;price&quot;: &quot;24.00&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;stock&quot;: 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;1f1321bb-0542-45d0-9601-2a3d007d5842&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;name&quot;: &quot;Modern iPhone&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;price&quot;: &quot;1000.00&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;stock&quot;: 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;f5384efc-eadb-4d7b-a131-36516269c218&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;name&quot;: &quot;Beautiful Sunglasses&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;price&quot;: &quot;12.00&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;stock&quot;: 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;6d6ca89d-fbc2-4fc2-93d0-6ee46ae97345&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;name&quot;: &quot;Stylish Cup&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;price&quot;: &quot;8.00&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;stock&quot;: 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;efe0c7a3-9835-4dfb-87e1-575b7d06701a&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;name&quot;: &quot;Herb caps&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;price&quot;: &quot;12.00&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;stock&quot;: 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;x341115a-63d2-42ce-8fe0-5f696ecdfca6&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;name&quot;: &quot;Audiophile Headphones&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;price&quot;: &quot;550.00&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;stock&quot;: 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;42860491-9f15-43d4-adeb-0db2cc99174a&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;name&quot;: &quot;Digital Camera&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;price&quot;: &quot;225.00&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;stock&quot;: 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;63a3c635-4505-4588-8457-ed04fbb76511&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;name&quot;: &quot;Empty Bluray Disc&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;price&quot;: &quot;5.00&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;stock&quot;: 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;id&quot;: &quot;97a19842-db31-4537-9241-5053d7c96239&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;name&quot;: &quot;256BG Pendrive&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;price&quot;: &quot;60.00&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &quot;stock&quot;: 2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="testing-the-server"></a>Testing the Server<a class="hash-link" href="#testing-the-server" title="Direct link to heading">#</a></h4><p>Copy <code>.env.example</code> to <code>.env</code> file and fill environmental variables as shown below:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">REDIS_PORT=6379</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">REDIS_HOST=127.0.0.1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">REDIS_PASSWORD=demo</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">COMPOSE_PROJECT_NAME=redis-shopping-cart</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>(Note: In case youâ€™re using Redis Enterprise Cloud instead of localhost, then you need to enter the database endpoint under REDIS_HOST(without port) while rest of the entries like REDIS_PORT and REDIS_PASSWORD are quite obvious)</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="installing-the-dependencies"></a>Installing the dependencies<a class="hash-link" href="#installing-the-dependencies" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ npm install</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="testing-the-routes"></a>Testing the Routes<a class="hash-link" href="#testing-the-routes" title="Direct link to heading">#</a></h4><p>After adding this, you can run your application by typing npm install in your terminal. Once you run this command, it will return Application is running on 3000.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ npm run dev</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ npm run dev</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; redis-shopping-cart-backend@1.0.0 dev</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; nodemon src/index.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[nodemon] 2.0.7</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[nodemon] to restart at any time, enter `rs`</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[nodemon] watching path(s): *.*</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[nodemon] watching extensions: js,mjs,json</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[nodemon] starting `node src/index.js`</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">App listening on port 3000</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setting-up-the-frontend-web-client-using-vuejs"></a>Setting up the frontend web Client using Vue.js<a class="hash-link" href="#setting-up-the-frontend-web-client-using-vuejs" title="Direct link to heading">#</a></h3><p>Now that we have the applicationâ€™s backend running, let us begin developing its frontend. We will be leveraging Vue.js - a robust but simple JavaScript framework for building our frontend web client. It has one of the lowest barriers to entry of any modern framework while providing all the required features for high performance web applications.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ README.md</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ babel.config.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ node_modules</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ package-lock.json</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ package.json</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ public</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ src</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â””â”€â”€ vue.config.js</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The files at the root level (babel.config.js, package.json, node_modules) are used to configure the project.
The most interesting part, at least for now, is located in the src directory(directory structure is shown below):</p><p>The main.js file is the main JavaScript file of the application, which will load all common elements and call the App.vue main screen.
The App.vue is a file that contains in the HTML, CSS, and JavaScript for a specific page or template. As an entry point for the application, this part is shared by all screens by default, so it is a good place to write the notification-client piece in this file.
The public/index.html is the static entry point from where the DOM will be loaded. </p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="directory-structure"></a>Directory Structure:<a class="hash-link" href="#directory-structure" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">% tree</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ App.vue</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ assets</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â”œâ”€â”€ RedisLabs_Illustration.svg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â””â”€â”€ products</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚       â”œâ”€â”€ 1f1321bb-0542-45d0-9601-2a3d007d5842.jpg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚       â”œâ”€â”€ 42860491-9f15-43d4-adeb-0db2cc99174a.jpg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚       â”œâ”€â”€ 63a3c635-4505-4588-8457-ed04fbb76511.jpg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚       â”œâ”€â”€ 6d6ca89d-fbc2-4fc2-93d0-6ee46ae97345.jpg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚       â”œâ”€â”€ 97a19842-db31-4537-9241-5053d7c96239.jpg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚       â”œâ”€â”€ e182115a-63d2-42ce-8fe0-5f696ecdfba6.jpg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚       â”œâ”€â”€ efe0c7a3-9835-4dfb-87e1-575b7d06701a.jpg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚       â”œâ”€â”€ f5384efc-eadb-4d7b-a131-36516269c218.jpg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚       â”œâ”€â”€ f9a6d214-1c38-47ab-a61c-c99a59438b12.jpg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚       â””â”€â”€ x341115a-63d2-42ce-8fe0-5f696ecdfca6.jpg</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ components</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â”œâ”€â”€ Cart.vue</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â”œâ”€â”€ CartItem.vue</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â”œâ”€â”€ CartList.vue</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â”œâ”€â”€ Info.vue</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â”œâ”€â”€ Product.vue</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â”œâ”€â”€ ProductList.vue</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â””â”€â”€ ResetDataBtn.vue</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â””â”€â”€ index.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ main.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ plugins</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â”œâ”€â”€ axios.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â””â”€â”€ vuetify.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”œâ”€â”€ store</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â”œâ”€â”€ index.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â””â”€â”€ modules</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚       â”œâ”€â”€ cart.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚       â””â”€â”€ products.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â””â”€â”€ styles</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    â””â”€â”€ styles.scss</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">8 directories, 27 files</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>In the client directory, under the subdirectory src, open the file App.vue. You will see the below content:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;template&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;v-app&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &lt;v-container&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &lt;div class=&quot;my-8 d-flex align-center&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &lt;div class=&quot;pa-4 rounded-lg red darken-1&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    &lt;v-icon color=&quot;white&quot; size=&quot;45&quot;&gt;mdi-cart-plus&lt;/v-icon&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &lt;/div&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &lt;h1 class=&quot;ml-6 font-weight-regular&quot;&gt;Shopping Cart demo&lt;/h1&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &lt;/div&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &lt;/v-container&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &lt;v-container&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &lt;v-row&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &lt;v-col cols=&quot;12&quot; sm=&quot;7&quot; md=&quot;8&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    &lt;info /&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    &lt;product-list :products=&quot;products&quot; /&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &lt;/v-col&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &lt;v-col cols=&quot;12&quot; sm=&quot;5&quot; md=&quot;4&quot; class=&quot;d-flex flex-column&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    &lt;cart /&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    &lt;reset-data-btn class=&quot;mt-6&quot; /&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &lt;/v-col&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &lt;/v-row&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &lt;v-footer class=&quot;mt-12 pa-0&quot;&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                Â© Copyright 2021 | All Rights Reserved to Redis Labs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &lt;/v-footer&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &lt;/v-container&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;/v-app&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/template&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;script&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import { mapGetters, mapActions } from &#x27;vuex&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import Cart from &#x27;@/components/Cart&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import ProductList from &#x27;@/components/ProductList&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import ResetDataBtn from &#x27;@/components/ResetDataBtn.vue&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import Info from &#x27;@/components/Info&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">export default {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    name: &#x27;App&#x27;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    components: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ProductList,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Cart,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ResetDataBtn,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Info</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    computed: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ...mapGetters({</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            products: &#x27;products/getProducts&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        })</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    async created() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        await this.fetchProducts();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    methods: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ...mapActions({</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            fetchProducts: &#x27;products/fetch&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        })</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;/script&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This is client-side code. Here API returns, among other things, links to icons suitable for use on Maps. If you follow the flow through, youâ€™ll see the map markers are loading those icons directly using the include URLs.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="runningtesting-the-web-client"></a>Running/Testing the web client<a class="hash-link" href="#runningtesting-the-web-client" title="Direct link to heading">#</a></h3><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ cd client</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ npm run serve </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; redis-shopping-cart-client@1.0.0 serve</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&gt; vue-cli-service serve</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> INFO  Starting development server...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">98% after emitting CopyPlugin</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> DONE  Compiled successfully in 7733ms                                                                                                                              7:15:56 AM</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  App running at:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - Local:   http://localhost:8081/ </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  - Network: http://192.168.43.81:8081/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Note that the development build is not optimized.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  To create a production build, run npm run build.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Let us click on the first item â€œ256GB Pendriveâ€ and try to check out this product. Once you add it to the cart, you will see the below output using redis-cli monitor command:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">1613320256.801562 [0 172.22.0.1:64420] &quot;json.get&quot; &quot;product:97a19842-db31-4537-9241-5053d7c96239&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1613320256.803062 [0 172.22.0.1:64420] &quot;hget&quot; </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1613320256.805950 [0 172.22.0.1:64420] &quot;json.set&quot; &quot;product:97a19842-db31-4537-9241-5053d7c96239&quot; &quot;.&quot; &quot;{\&quot;id\&quot;:\&quot;97a19842-db31-4537-9241-5053d7c96239\&quot;,\&quot;name\&quot;:\&quot;256BG Pendrive\&quot;,\&quot;price\&quot;:\&quot;60.00\&quot;,\&quot;stock\&quot;:1}&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1613320256.807792 [0 172.22.0.1:64420] &quot;set&quot; &quot;sess:Ii9njXZd6zeUViL3tKJimN5zU7Samfze&quot; </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1613320256.823055 [0 172.22.0.1:64420] &quot;scan&quot; &quot;0&quot; &quot;MATCH&quot; &quot;product:*&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1613320263.232527 [0 172.22.0.1:64420] &quot;hgetall&quot; &quot;cart:bdee1606395f69985e8f8e01d3ada8c4&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1613320263.233752 [0 172.22.0.1:64420] &quot;set&quot; &quot;sess:gXk5K9bobvrR790-HFEoi3bQ2kP9YmjV&quot; &quot;{\&quot;cookie\&quot;:{\&quot;originalMaxAge\&quot;:10800000,\&quot;expires\&quot;:\&quot;2021-02-14T19:31:03.233Z\&quot;,\&quot;httpOnly\&quot;:true,\&quot;path\&quot;:\&quot;/\&quot;},\&quot;cartId\&quot;:\&quot;bdee1606395f69985e8f8e01d3ada8c4\&quot;}&quot; &quot;EX&quot; &quot;10800&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1613320263.240797 [0 172.22.0.1:64420] &quot;scan&quot; &quot;0&quot; &quot;MATCH&quot; &quot;product:*&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">1613320263.241908 [0 172.22.0.1:64420] &quot;scan&quot; &quot;22&quot; &quot;MATCH&quot; &quot;product:*&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â€¦</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&quot;{\&quot;cookie\&quot;:{\&quot;originalMaxAge\&quot;:10800000,\&quot;expires\&quot;:\&quot;2021-02-14T19:31:03.254Z\&quot;,\&quot;httpOnly\&quot;:true,\&quot;path\&quot;:\&quot;/\&quot;},\&quot;cartId\&quot;:\&quot;4bc231293c5345370f8fab83aff52cf3\&quot;}&quot; &quot;EX&quot; &quot;10800&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p><img alt="Shopping Cart" src="/assets/images/shoppingcart5-b53d75830ff124d1c50f7624e43c6147.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="conclusion"></a>Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">#</a></h3><p>Storing shopping cart data in Redis is a good idea because it lets you retrieve the data very fast at any time and persist this data if needed. As compared to cookies that store the entire shopping cart data in session that is bloated and relatively slow in operation, storing the shopping cart data in Redis speeds up the shopping cartâ€™s read and write performance , thereby improving the user experience.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="reference"></a>Reference<a class="hash-link" href="#reference" title="Direct link to heading">#</a></h3><ul><li><a href="https://github.com/redis-developer/basic-redis-shopping-chart-nodejs" target="_blank" rel="noopener noreferrer">Source code</a></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/redis-developer/redis-developer/edit/master/docs/howtos/shoppingcart/index-shoppingcart.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#content" class="table-of-contents__link">Content</a></li><li><a href="#what-will-you-build" class="table-of-contents__link">What will you build?</a></li><li><a href="#what-do-you-need" class="table-of-contents__link">What do you need?</a></li><li><a href="#getting-started" class="table-of-contents__link">Getting Started</a></li><li><a href="#setting-up-the-backend-server" class="table-of-contents__link">Setting up the backend server</a></li><li><a href="#setting-up-the-frontend-web-client-using-vuejs" class="table-of-contents__link">Setting up the frontend web Client using Vue.js</a></li><li><a href="#runningtesting-the-web-client" class="table-of-contents__link">Running/Testing the web client</a></li><li><a href="#conclusion" class="table-of-contents__link">Conclusion</a></li><li><a href="#reference" class="table-of-contents__link">Reference</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><svg width="785" height="158" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="shape"><defs><path d="M786.344 392.459c-41.822 22.164-258.313 110.84-305.056 135.477-46.742 24.637-72.163 23.812-108.246 6.57-36.082-17.24-267.334-111.664-309.156-131.377-41.822-19.713-42.642-33.657-1.64-49.271C103.25 338.265 332.86 247.94 381.243 229.875c48.383-18.065 65.604-18.065 106.605-2.473 41.003 15.614 256.674 100.996 297.676 115.785 41.002 14.791 42.642 27.912.82 49.273v-.001z" id="a"></path><mask id="b" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="785" height="331" fill="#fff"><use xlink:href="#a"></use></mask></defs><use mask="url(#b)" xlink:href="#a" transform="translate(-32 -216)" stroke="#465282" stroke-width="4" fill="none" fill-rule="evenodd" stroke-dasharray="3.637"></use></svg><img src="/img/code-2.png" class="code" alt=""><div class="row"><div class="col col--3"><div class="footer__logo-ctr"><span class="footer__logo-tagline">Made with &lt;/&gt; by</span><a href="https://redis.com/" target="_blank" rel="noopener" class="footerLogoLink_3L_r"><img loading="lazy" class="footer__logo" alt="Redis Labs logo" src="/img/redis_logo_red_white_rgb.svg"></a></div></div><div class="col col--9"><div class="row footer__links"><div class="col col--4 footer__col"><h4 class="footer__title">Get Started</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/create/rediscloud">Create Database</a></li><li class="footer__item"><a class="footer__link-item" href="/develop/">Develop</a></li><li class="footer__item"><a class="footer__link-item" href="/explore/redisinsight/">Explore your data</a></li><li class="footer__item"><a href="https://redis.com/redis-best-practices/introduction/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Best Practices</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/howtos/redisearch/">Build with Redis Modules</a></li></ul></div><div class="col col--4 footer__col"><h4 class="footer__title">Resources</h4><ul class="footer__items"><li class="footer__item"><a href="https://redis.com/community/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community</a></li><li class="footer__item"><a href="https://university.redis.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Redis University</a></li><li class="footer__item"><a href="https://redis.io/commands" target="_blank" rel="noopener noreferrer" class="footer__link-item">Command Reference</a></li><li class="footer__item"><a class="footer__link-item" href="/howtos">How-tos &amp; tutorials</a></li></ul></div></div></div></div><div class="footer__copyright">Copyright: Â© 2021 Redis. All rights reserved. Redis and the cube logo are registered trademarks of Redis Ltd.</div></div></footer></div>
<script src="/styles.b9c37683.js"></script>
<script src="/runtime~main.e950b190.js"></script>
<script src="/main.c4c7d56e.js"></script>
<script src="/1.99ebfa80.js"></script>
<script src="/2.40bd919a.js"></script>
<script src="/3.5df694a1.js"></script>
<script src="/1be78505.41ede2c7.js"></script>
<script src="/935f2afb.3c0f7539.js"></script>
<script src="/17896441.3b88a478.js"></script>
<script src="/ab704c68.efc1a610.js"></script>
</body>
</html>